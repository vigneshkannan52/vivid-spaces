"use strict";!function(n){n(document).ready(function(){n(document).on("click",".w-select-action",function(t){t.preventDefault(),t.stopPropagation();var e=n("[id="+n(this).data("photoid")+"]");n(e).toggleClass("selected"),n(e).addClass("selecting");var o=n(e).hasClass("selected"),i=n(e).data("attachment_id");o?(jQuery(this).find(".button-text").html(whizzy.l10n.deselect),e.find(".w-select-action  .button-text").html(whizzy.l10n.deselect)):(jQuery(this).find(".button-text").html(whizzy.l10n.select),e.find(".w-select-action .button-text").html(whizzy.l10n.select)),n.ajax({type:"post",url:whizzy.ajaxurl,data:{action:"whizzy_image_click",attachment_id:i,selected:o},beforeSend:function(){},complete:function(){setTimeout(function(){n(e).removeClass("selecting")},600)},success:function(t){}}),a()}),a(),n(".js-whizzy-gallery:not(.lightpopup)").each(function(){n(this).magnificPopup({delegate:"a.zoom-action",type:"image",removalDelay:500,mainClass:"mfp-fade",image:{titleSrc:function(t){var e=1==n("#"+t.el.data("photoid")).hasClass("selected")?whizzy.l10n.deselect:whizzy.l10n.select;return'<a class="meta__action  meta__action--popup  w-select-action"  id="popup-selector" href="#" data-photoid="'+t.el.data("photoid")+'"><span class="button-text">'+e+"</span></a>"}},gallery:{enabled:!0,navigateByImgClick:!0,tPrev:whizzy.l10n.previous,tNext:whizzy.l10n.next,tCounter:'<span class="mfp-counter">%curr% '+whizzy.l10n.ofCounter+" %total%</span>"}})}),t()});var a=function(){if("automatic"===whizzy.whizzy_settings.zip_archive_generation){var o=n(".js-download");o.attr("disabled","disabled"),n(".proof-photo").each(function(t,e){n(this).hasClass("selected")&&o.removeAttr("disabled")})}},t=function t(){void 0===t.bound&&(t.bound=!0,n(document).on("click","span.whizzy_photo_ref",function(){var t=n(n(this).data("href"));(t=t.length?t:n("[name="+n(this).data("href").slice(1)+"]")).length&&n("body").animate({scrollTop:t.offset().top-200},500,function(){n(t).addClass("scrooled_from_comments"),setTimeout(function(){n(t).removeClass("scrooled_from_comments")},800)})}))};function e(){n("#whizzy_proof_gallery.masonry").length&&n("#whizzy_proof_gallery.masonry").each(function(){var e=n(this),t=e.attr("data-layout")||"masonry",o=e.prev(".whizzy-filters");o.length&&o.find("button").on("click",function(){var t=n(this).attr("data-selector");e.prev(".whizzy-filters").find("button").removeClass("is-checked"),n(this).addClass("is-checked"),e.isotope({filter:t})}),e.isotope({itemSelector:".proof-photo",layoutMode:t,masonry:{columnWidth:".proof-photo"}})})}jQuery(window).on("load",function(){!function(t,e){if(!t)return;var o,i,a;n(t).each(function(){a=n(this),i=a.data("s-hidden"),(o=(o=a.closest(e)).length?o:a.parent()).css("background-image","url("+this.src+")").addClass("s-back-switch"),i?(a.css("visibility","hidden"),a.show()):a.hide()})}(".s-img-switch"),n(".js-whizzy-gallery.lightpopup").lightGallery({selector:"a.zoom-action",mode:"lg-slide",closable:!1,iframeMaxWidth:"80%",download:!1,thumbnail:!1,showThumbByDefault:!1})}),n("#whizzy_proof_gallery").each(function(){var t=n(this).data("space");n(this).find(".proof-photo").css({"padding-right":t,"padding-left":t,"margin-top":"0","margin-bottom":2*t}),n(this).css({"margin-left":-t+"px","margin-right":-t+"px"})}),n(window).on("load resize",function(){e()}),window.addEventListener("orientationchange",function(){e()})}(jQuery);
