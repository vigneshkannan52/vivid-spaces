{"version":3,"sources":["shortcodes.js"],"names":["$","window","$gridAlbums","wpc_add_img_bg","img_sel","parent_sel","$parent","$imgDataHidden","_this","this","data","closest","length","parent","src","addClass","each","css","show","portfolioFilter","isotope","itemSelector","layoutMode","masonry","columnWidth","find","number","text","parseInt","filterFns","numberGreaterThan50","match","on","filterValue","attr","filter","i","buttonGroup","$buttonGroup","$imagesSelector","removeClass","innerHeight","$imagesWidth","lightGallery","selector","mode","closable","iframeMaxWidth","download","showThumbByDefault","load_more_post","load_more_portfolio","startPage","pageNum","nextLink","$btn","e","html","$btnText","max","$container","ajax","newElements","type","elems","push","append","imageWidth","replace","hide","initIzotope","document","layoutM","self","gutter","jQuery"],"mappings":"cAAC,SAAWA,EAAGC,GAGX,IAAIC,EAMJ,SAASC,EAAeC,EAASC,GAHjC,IAAAD,EACA,OAAA,EAOI,IAAIE,EAASC,EAAgBC,EALjCR,EAAAI,GAASD,KAAAA,WACAC,EAASJ,EAAAS,MAEVF,EAAAC,EAAAE,KAAA,aAOAJ,GANHA,EAAAE,EAAAG,QAAAN,IAMqBO,OAASN,EAAUE,EAAMK,UALlCN,IAAAA,mBAAb,OAAAE,KAAAK,IAAA,KAAAC,SAAA,iBAOQR,GANGS,EAAKC,IAAA,aAAY,UACdT,EAAVU,QAGUZ,EAAAA,SAINE,SAAKW,IAGLX,EAAAR,EAAA,6BAAAoB,QAAA,CACHC,aAAA,QAZLC,WAAA,UAcHC,QAAA,CASWC,YAAa,QANhBL,OAATnB,EAAA,6BAA2ByB,KAAA,6BAAAb,OAAA,EAAA,MAInBU,IAAAA,EAAY,CAERE,oBADK,WAEL,IAAYE,EAAA1B,EAAAS,MAAAgB,KAAA,WAAFE,OAFL,OAAA,GAAAC,SAAAF,EAAA,KAMTG,IAAS,WAETC,OADA9B,EAAAS,MAAAgB,KAAA,SAAAE,OACqBI,MAAA,UAIrB/B,EAAA,cAAAgC,GAAA,QAAA,KAAA,WACK,IAAAC,EAAWjC,EAAAS,MAAAyB,KAAA,iBAEZD,EAAmBJ,EAAnBI,IAAAA,EACH/B,EAAAkB,QAAA,CAAAe,OAAAF,IASD9B,EAAe,mBAGnBH,EAAE,cAAcgB,KAAM,SAAUoB,EAAGC,GAN/BJ,IAAAA,EAAyBA,EAAAA,GACzB/B,EAAA8B,GAAoB,QAAA,KAAA,WAAUC,EAAAA,KAAAA,eAAAA,YAAAA,cAA9BjC,EAAAS,MAAAM,SAAA,kBAOAuB,SAAAA,EAAiBC,GACbD,IAAAA,EAAkBC,EAAeC,aACjCxC,EAAAgB,KAAmB,WAFvBhB,EAAAS,MAAAgC,YAAAC,KAoBiB1C,EAAb,wDAAAY,QAHJZ,EAAA,wDAAA2C,aAAA,CAYHC,SAAA,gBACJC,KAAA,WAQOC,UAAU,EAJbC,eAAA,MACCC,UAAA,EACEJ,WAAU,EACJK,oBAF6D,IA+EtEjD,EAAAC,GAAA+B,GAAA,cAAA,YAxEGiB,WAEP,GAAAhD,EAAAiD,eAAA,CAGQC,IAAAA,EAAAA,SAAsBD,eAAAE,WAAA,EAInBC,EAAUzB,SAASsB,eAAeE,SAMlCE,EAAWJ,eAAeI,SAQtBC,EAAAA,cAAJvB,GAAA,QAAA,SAAAwB,GAEKC,IAAKF,EAAAvD,EAAAS,MADNiD,EAAWH,EAAKE,OAMhB,GAHAJ,EAAOI,KAAX,cAGWJ,GAAAM,EAAA,CAEG,IAFHC,EAAA5D,EAZK,wCAeDA,EAAE6D,KAAA,CAEDC,IAAWR,EACNS,KAAT,MAEAD,QAAiB,SAAApD,GAAjB,IAAAoD,EAAA9D,EAAAU,GAAAe,KAAA,oBAGkBuC,EAAlB,GAIY5C,EAAQJ,KAApB,SAAAoB,GACc4B,EAAAC,KAAAxD,QAEPmD,EAAAM,OAAAF,GAGGN,EAAV,iBAEWxD,EAAiBkB,QAAA,WAAApB,EAAAgE,IACdG,EAAVnE,EAAA,8CACHmB,IACJkC,IA1BLC,EAAAA,EAAAc,QAAA,iBAAA,SAAAf,GAqBQE,EAAKE,KAAKC,GA9B1BL,GAAAM,EAAA,GAwCHJ,EAAAc,KAAA,WAIL,OAAA,KACIlB,KAQIgB,EAAAA,GAAAA,GAAYnE,cAAE,WACjBG,EAAA,iBALGH,EAAE,kCAAkCY,QAMxC0D,EAAWtE,EAAA,8CARfA,EAAA,mEAAAY,QAYOX,EAAQsE,EAAAA,iFAjHP7B,EAAAA,kDAAJ9B,QACA2B,EAAAA,kDAAiCvB,KAAA,WACrByB,IAAAA,EAAaC,EAAAA,MADzB8B,EAAAC,EAAAvC,KAAA,gBAAA,UAGHuC,EAAArD,QAAA,CAQeC,aAAc,eANrBiD,WAAcE,EACbjD,QAAA,CACAC,YAAA,eACekD,OAAb,QAqGRvD,MA1LP,CA6LEwD,OAAQ1E,OAAQsE","file":"shortcodes.min.js","sourcesContent":[";(function ($, window, document, undefined) {\r\n    'use strict';\r\n\r\n    var $gridAlbums;\r\n\r\n    /*=================================*/\r\n    /* BACKGROUND */\r\n    /*=================================*/\r\n    //sets child image as a background\r\n    function wpc_add_img_bg(img_sel, parent_sel) {\r\n        if (!img_sel) {\r\n\r\n            return false;\r\n        }\r\n        var $parent, $imgDataHidden, _this;\r\n        $(img_sel).each(function () {\r\n            _this = $(this);\r\n            $imgDataHidden = _this.data('s-hidden');\r\n            $parent = _this.closest(parent_sel);\r\n            $parent = $parent.length ? $parent : _this.parent();\r\n            $parent.css('background-image', 'url(' + this.src + ')').addClass('s-back-switch');\r\n            if ($imgDataHidden) {\r\n                _this.css('visibility', 'hidden');\r\n                _this.show();\r\n            }\r\n            else {\r\n                _this.hide();\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    function portfolioFilter() {\r\n        // init Isotope\r\n        $gridAlbums = $('.whizzy-portfolio-wrapper').isotope({\r\n            itemSelector: '.item',\r\n            layoutMode: 'masonry',\r\n            masonry: {\r\n                columnWidth: '.item',\r\n                \"gutter\": $('.whizzy-portfolio-wrapper').find('.classic, .grid, .masonry').length ? 0 : 30\r\n            }\r\n        });\r\n        // filter functions\r\n        var filterFns = {\r\n            // show if number is greater than 50\r\n            numberGreaterThan50: function() {\r\n                var number = $(this).find('.number').text();\r\n                return parseInt( number, 10 ) > 50;\r\n            },\r\n            // show if name ends with -ium\r\n            ium: function() {\r\n                var name = $(this).find('.name').text();\r\n                return name.match( /ium$/ );\r\n            }\r\n        };\r\n        // bind filter button click\r\n        $('.filter ul').on( 'click', 'li', function() {\r\n            var filterValue = $( this ).attr('data-selector');\r\n            // use filterFn if matches value\r\n            filterValue = filterFns[ filterValue ] || filterValue;\r\n            $gridAlbums.isotope({ filter: filterValue });\r\n\r\n            wpc_add_img_bg('.s-img-switch');\r\n        });\r\n        // change is-checked class on buttons\r\n        $('.filter ul').each( function( i, buttonGroup ) {\r\n            var $buttonGroup = $( buttonGroup );\r\n            $buttonGroup.on( 'click', 'li', function() {\r\n                $buttonGroup.find('.is-checked').removeClass('is-checked');\r\n                $( this ).addClass('is-checked');\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    function imageWidth($imagesSelector) {\r\n        var $imagesWidth = $imagesSelector.innerWidth();\r\n        $imagesSelector.each( function() {\r\n            $(this).innerHeight( $imagesWidth );\r\n        });\r\n    }\r\n\r\n    function initIzotope() {\r\n        if ($('.whizzy-plugin.whizzy-popup .izotope-container').length) {\r\n            $('.whizzy-plugin.whizzy-popup .izotope-container').each(function () {\r\n                var self = $(this);\r\n                var layoutM = self.attr('data-layout') || 'masonry';\r\n                self.isotope({\r\n                    itemSelector: '.item-single',\r\n                    layoutMode: layoutM,\r\n                    masonry: {\r\n                        columnWidth: '.item-single',\r\n                        \"gutter\": 30\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    if($('.portfolio-single-content.whizzy-plugin.whizzy-popup').length ) {\r\n        $(\".portfolio-single-content.whizzy-plugin.whizzy-popup\").lightGallery({\r\n            selector: '.gallery-item',\r\n            mode: 'lg-slide',\r\n            closable: false,\r\n            iframeMaxWidth: '80%',\r\n            download: false,\r\n            thumbnail: false,\r\n            showThumbByDefault: false\r\n        });\r\n    }\r\n\r\n\r\n    function load_more_portfolio() {\r\n        // Load More Portfolio\r\n        if (window.load_more_post) {\r\n\r\n            var pageNum = parseInt(load_more_post.startPage) + 1;\r\n\r\n            // The maximum number of pages the current query can return.\r\n            var max = parseInt(load_more_post.maxPage);\r\n\r\n            // The link of the next page of posts.\r\n            var nextLink = load_more_post.nextLink;\r\n\r\n            // wrapper selector\r\n            var wrap_selector = '.whizzy-portfolio-wrapper .portfolio';\r\n\r\n            //button click\r\n            $('.load-more').on('click', function (e) {\r\n\r\n                var $btn = $(this),\r\n                    $btnText = $btn.html();\r\n                $btn.html('loading...');\r\n\r\n                if (pageNum <= max) {\r\n\r\n                    var $container = $(wrap_selector);\r\n                    $.ajax({\r\n                        url: nextLink,\r\n                        type: \"get\",\r\n                        success: function (data) {\r\n\r\n                            var newElements = $(data).find('.portfolio .item');\r\n                            var elems = [];\r\n\r\n                            newElements.each(function (i) {\r\n                                elems.push(this);\r\n                            });\r\n                            $container.append(elems);\r\n\r\n                            wpc_add_img_bg('.s-img-switch');\r\n\r\n                            $gridAlbums.isotope('appended', $(elems));\r\n                            imageWidth( $('.whizzy-portfolio-wrapper.grid .item-link') );\r\n                            portfolioFilter();\r\n                            pageNum++;\r\n                            nextLink = nextLink.replace(/\\/page\\/[0-9]?/, '/page/' + pageNum);\r\n\r\n                            $btn.html($btnText);\r\n\r\n                            if (pageNum == ( max + 1 )) {\r\n                                $btn.hide('fast');\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                return false;\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    $(window).on('load resize', function () {\r\n        load_more_portfolio();\r\n    });\r\n    $(window).on('load resize', function () {\r\n        wpc_add_img_bg('.s-img-switch');\r\n        if( $('.whizzy-portfolio-wrapper.grid').length){\r\n            imageWidth( $('.whizzy-portfolio-wrapper.grid .item-link') );\r\n        }\r\n        if($('.portfolio-single-content.whizzy-plugin.boxed_grid.whizzy-popup') .length){\r\n            imageWidth( $('.portfolio-single-content.whizzy-plugin.boxed_grid.whizzy-popup .item-single') );\r\n        }\r\n        initIzotope();\r\n        portfolioFilter();\r\n    });\r\n\r\n})(jQuery, window, document);"]}