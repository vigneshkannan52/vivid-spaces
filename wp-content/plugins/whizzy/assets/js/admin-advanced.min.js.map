{"version":3,"sources":["admin-advanced.js"],"names":["$","frame","$wrapper","$addImage","position","fontSizeWatermark","fontSize","val","html","opacity","find","$imageAttr","on","e","$imgInput","preventDefault","wp","media","title","button","text","multiple","attachment","state","get","first","toJSON","attr","url","id","trigger","open","ajax","ajaxurl","method","type","nonce","action","font","font_size","offsetx","watermark_image","color","beforeSend","removeClass","success","res","status","img_url","complete","addClass","this","siblings","opacityWatermark","jQuery","data"],"mappings":"cAAC,SAAUA,GAAT,IACEC,EAKQC,EAFPC,EACOF,EACAC,EA2HRE,EA5BA,SAASC,IACDC,IAAAA,EAAaN,EAAA,2CAAFO,MACbP,EAAA,8BAAFQ,KAAqCF,GAUrC,SAAIG,IACF,IAAAA,EAAAT,EAAA,yCAAFO,MACHP,EAAA,6BAAAQ,KAAAC,EAAA,KA7GOP,EAAWF,EAAE,+BAFpBG,EAAWD,EAAAQ,KAAA,oBACJT,EAAJC,EAAAQ,KAAA,mBACIR,EAAaA,EAAAQ,KAAA,mBAEbC,EAAUC,GAAGV,QAASQ,SAAKG,GAC3BC,EAAAA,iBAGEC,IAOFd,EAAAe,GAAAC,MAAA,CAEIC,MAAO,mDACPC,OAAQ,CAACC,KAAM,kBAFTC,UAAO,KAAAT,GAAA,SAAA,WASb,IAAIU,EAAarB,EAAMsB,QAAQC,IAAI,aAAaC,QAAQC,SAFnDf,EAAUgB,KAAA,MAAWL,EAAAM,KAQ1Bd,EAAUP,IAAIe,EAAWO,IAAIC,QAAQ,YApBrC7B,EAAM8B,SA8Bd/B,EAAE,mBAAmBU,KAAK,iBAAiBE,GAAG,SAAU,WAD3D,IAAWQ,EAAApB,EAAA,yBAAAO,MAES,KAALa,GAIPpB,EAAAgC,KAAA,CAGGJ,IAAKK,QADFC,OAAA,OACED,KADF,CAEKb,KAFLA,EAGGe,KAAAnC,EAAA,mBAAAO,MAAA6B,MAAApC,EAAA,0BAAAO,MAEM8B,OAAA,yBACCC,KAAAtC,EAAA,yBAHPO,MAIMH,SAAAJ,EAAA,6BAJNO,MAKMgC,UAAAvC,EAAA,8BALNO,MAMQP,gBAAEA,EAAA,kCANVO,MAOOiC,QAAIxC,EAAA,4BAPXO,MAQFkC,QAAmBzC,EAAA,4BAAAO,MACTE,QAACT,EAAA,4BATTO,MAUQmC,MAAC1C,EAAA,0BAVTO,OAYGoC,WAAI,WAfV3C,EAAA,uCAAA4C,YAAA,WAkBGC,QAAA,SAAAC,IAlBH,IAAAA,EAAAC,QAoBM/C,EAAA,yBAAc2B,KAAA,MAAAmB,EAAAE,UAGlBC,SAAA,WAvBFjD,EAAA,uCAAAkD,SAAA,eAiCflD,EAAE,kBAAkBY,GAAG,QAAS,WAC5BZ,EAAEmD,MAAMD,SAAS,UAAUE,WAAWR,YAAY,UAAvBQ,UAAnBF,EAAAA,MAAS1C,QAGbR,EAAE,uBAAuBkD,SAAS,UAD/BlD,EAAD,sBAA4B4C,YAAA,UAC5B5C,EAAA,mBAAuBkD,IAAAA,SAASpB,QAAlC,YAEE9B,EAAA,mBAAuBO,IAAA,QAASuB,QAAQ,UACvC9B,EAAA,sBAAAkD,SAAA,UACDlD,EAAA,uBAAF4C,YAAyC,aAYjDvC,IAEEL,EAAA,2CAAFY,GAAgD,SAAU,WACtDP,MAQJgD,IAGIA,EAAAA,yCAAgBzC,GAAA,SAAA,WAGpByC,MAOAjD,EAAAJ,EAAA,6BAAAO,MAHIP,EAAE,sDAAuDI,EAAU,MAAM8C,SAAS,UAItFlD,EAAA,uCAAAY,GAAA,QAAA,WAKD0C,EAvIFH,MAAAD,SAAA,UAAAE,WAAAR,YAAA,UAoIO5C,EAAE,6BAA6BO,IAAIP,EAAEmD,MAAMI,KAAK,aAAazB,QAAQ,YApI5E,CAuIEwB","file":"admin-advanced.min.js","sourcesContent":[";(function($) {\r\n    'use strict';\r\n\r\n    // wordpress image uploader\r\n    (function() {\r\n        var frame;\r\n        var $wrapper = $('.whizzy-pro--image-uploader');\r\n        var $addImage = $wrapper.find('.upload-wp-image');\r\n        var $imageAttr = $wrapper.find('.image-wp-image');\r\n        var $imgInput = $wrapper.find('.input-wp-image');\r\n\r\n        $addImage.on('click', function(e) {\r\n            e.preventDefault();\r\n\r\n            if (frame) { // If the media frame already exists, reopen it.\r\n                frame.open();\r\n                return;\r\n            }\r\n\r\n            // Create a new media frame\r\n            frame = wp.media({\r\n                title: 'Select or Upload Media Of Your Chosen Persuasion',\r\n                button: {text: 'Use this media'},\r\n                multiple: false // Set to true to allow multiple files to be selected\r\n            });\r\n\r\n            // When an image is selected in the media frame...\r\n            frame.on('select', function() {\r\n                // Get media attachment details from the frame state\r\n                var attachment = frame.state().get('selection').first().toJSON();\r\n\r\n                // Send the attachment URL to our custom image input field.\r\n                $imageAttr.attr('src', attachment.url);\r\n\r\n                // Send the attachment id to our hidden input\r\n                $imgInput.val(attachment.id).trigger('change');\r\n            });\r\n\r\n            // Finally, open the modal on click\r\n            frame.open();\r\n        });\r\n    })();\r\n\r\n    // watermark editor\r\n    (function() {\r\n        $('#watermark-form').find('input, select').on('change', function() {\r\n            var text = $('#watermark-field-text').val();\r\n\r\n            if (text === '') {\r\n                return;\r\n            }\r\n\r\n            $.ajax({\r\n                url: ajaxurl,\r\n                method: 'post',\r\n                data: {\r\n                    text: text,\r\n                    type: $('#watermark-type').val(),\r\n                    nonce: $('#watermark-field-nonce').val(),\r\n                    action: 'whizzy-watermark-image',\r\n                    font: $('#watermark-field-font').val(),\r\n                    position: $('#watermark-field-position').val(),\r\n                    font_size: $('#watermark-field-font-size').val(),\r\n                    watermark_image: $('#watermark-image-preview-input').val(),\r\n                    offsetx: $('#watermark-field-offsetx').val(),\r\n                    offsety: $('#watermark-field-offsety').val(),\r\n                    opacity: $('#watermark-field-opacity').val(),\r\n                    color: $('#watermark-field-color').val()\r\n                },\r\n                beforeSend: function() {\r\n                    $('.wew-preloader-wrapper .loader-wrap').removeClass('hidden');\r\n                },\r\n                success: function(res) {\r\n                    if (true === res.status) {\r\n                        $('#watermark-image-show').attr('src', res.img_url);\r\n                    }\r\n                },\r\n                complete: function() {\r\n                    $('.wew-preloader-wrapper .loader-wrap').addClass('hidden');\r\n                }\r\n            });\r\n        });\r\n    })();\r\n\r\n    // Active Text or Image\r\n    $('.wew-types div').on('click', function() {\r\n        $(this).addClass('active').siblings().removeClass('active');\r\n\r\n        if ( $(this).html() === 'Image' ) {\r\n            $('.wew-hide-for-image').addClass('active');\r\n            $('.wew-hide-for-text').removeClass('active');\r\n            $('#watermark-type').val('image').trigger('change');\r\n        } else {\r\n            $('#watermark-type').val('text').trigger('change');\r\n            $('.wew-hide-for-text').addClass('active');\r\n            $('.wew-hide-for-image').removeClass('active');\r\n        }\r\n    });\r\n\r\n\r\n    // Input font-size val\r\n    function fontSizeWatermark() {\r\n        var fontSize = $('.wew-content #watermark-field-font-size').val();\r\n        $('.wew-content .wew-fontsize').html(fontSize);\r\n    }\r\n    fontSizeWatermark();\r\n\r\n    $('.wew-content #watermark-field-font-size').on('change', function() {\r\n        fontSizeWatermark();\r\n    });\r\n\r\n    //Input opacity val\r\n    function opacityWatermark() {\r\n        var opacity = $('.wew-content #watermark-field-opacity').val();\r\n        $('.wew-content .wew-opacity').html(opacity  + '%');\r\n    }\r\n    opacityWatermark();\r\n\r\n    $('.wew-content #watermark-field-opacity').on('change', function() {\r\n        opacityWatermark();\r\n    });\r\n\r\n    // active default position\r\n    (function() {\r\n        var position = $('#watermark-field-position').val();\r\n\r\n        $('.wew-position-wrapper .wew-position[data-position=\"'+ position +'\"]').addClass('active');\r\n    })();\r\n\r\n    // Choosing of position\r\n    $('.wew-position-wrapper .wew-position').on('click', function() {\r\n        $(this).addClass('active').siblings().removeClass('active');\r\n        $('#watermark-field-position').val($(this).data('position')).trigger('change');\r\n    });\r\n\r\n})(jQuery);"]}