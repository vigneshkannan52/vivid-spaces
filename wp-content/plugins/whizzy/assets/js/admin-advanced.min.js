"use strict";!function(a){var t,e,i,r,o,n;function w(){var e=a(".wew-content #watermark-field-font-size").val();a(".wew-content .wew-fontsize").html(e)}function l(){var e=a(".wew-content #watermark-field-opacity").val();a(".wew-content .wew-opacity").html(e+"%")}e=a(".whizzy-pro--image-uploader"),i=e.find(".upload-wp-image"),r=e.find(".image-wp-image"),o=e.find(".input-wp-image"),i.on("click",function(e){e.preventDefault(),t||(t=wp.media({title:"Select or Upload Media Of Your Chosen Persuasion",button:{text:"Use this media"},multiple:!1})).on("select",function(){var e=t.state().get("selection").first().toJSON();r.attr("src",e.url),o.val(e.id).trigger("change")}),t.open()}),a("#watermark-form").find("input, select").on("change",function(){var e=a("#watermark-field-text").val();""!==e&&a.ajax({url:ajaxurl,method:"post",data:{text:e,type:a("#watermark-type").val(),nonce:a("#watermark-field-nonce").val(),action:"whizzy-watermark-image",font:a("#watermark-field-font").val(),position:a("#watermark-field-position").val(),font_size:a("#watermark-field-font-size").val(),watermark_image:a("#watermark-image-preview-input").val(),offsetx:a("#watermark-field-offsetx").val(),offsety:a("#watermark-field-offsety").val(),opacity:a("#watermark-field-opacity").val(),color:a("#watermark-field-color").val()},beforeSend:function(){a(".wew-preloader-wrapper .loader-wrap").removeClass("hidden")},success:function(e){!0===e.status&&a("#watermark-image-show").attr("src",e.img_url)},complete:function(){a(".wew-preloader-wrapper .loader-wrap").addClass("hidden")}})}),a(".wew-types div").on("click",function(){a(this).addClass("active").siblings().removeClass("active"),"Image"===a(this).html()?(a(".wew-hide-for-image").addClass("active"),a(".wew-hide-for-text").removeClass("active"),a("#watermark-type").val("image").trigger("change")):(a("#watermark-type").val("text").trigger("change"),a(".wew-hide-for-text").addClass("active"),a(".wew-hide-for-image").removeClass("active"))}),w(),a(".wew-content #watermark-field-font-size").on("change",function(){w()}),l(),a(".wew-content #watermark-field-opacity").on("change",function(){l()}),n=a("#watermark-field-position").val(),a('.wew-position-wrapper .wew-position[data-position="'+n+'"]').addClass("active"),a(".wew-position-wrapper .wew-position").on("click",function(){a(this).addClass("active").siblings().removeClass("active"),a("#watermark-field-position").val(a(this).data("position")).trigger("change")})}(jQuery);
