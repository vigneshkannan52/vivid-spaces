{"version":3,"sources":["video-btn/assets/js/djo_layout2.js"],"names":["$","window","document","setupVideo","video","length","link","querySelector","id","getAttribute","button","addEventListener","iframe","setAttribute","createElement","classList","generateURL","add","createIframe","remove","appendChild","removeAttribute","videos","querySelectorAll","i","findVideos","jQuery"],"mappings":"cAAC,SAAWA,EAAGC,EAAQC,GAuBnB,SAASC,EAAWC,GAChB,GAAGJ,EAAE,4BAA4BK,OAAS,CACtC,IAAIC,EAAOF,EAAMG,cAAc,qCAF9BJ,EAAWC,EAAOG,cAAA,uCAClBC,EAAAJ,EAAAK,aAA4BJ,WAEzBK,EAAMC,iBAASJ,QAAc,WACxBH,IAAKQ,EAwClBA,SAAoBJ,GACpBI,IAAOC,EAAAA,EAAaC,cAApB,UAIA,OAFAF,EAAOG,aAAc,kBAArB,IAEAH,EAAOA,aAAP,QAAA,YACHA,EAAAC,aAAA,MAUD,SAAqBL,GAGjB,MAAO,iCAAmCA,EAGpC,+BAhBTQ,CAAAR,IAEDI,EAAAG,UAAAE,IAAA,sBAHWL,EA7CYH,CAAaD,GAGpBI,EAASM,SAERC,EAALA,SACOA,EAAPC,YAAAR,KAICS,EAAAA,gBAAL,QACMN,EAAAA,UAAcE,IAAA,oBA/B5B,WACI,GAAGjB,EAAE,4BAA4BK,OAA5B,IACD,IAAIiB,EAASpB,EAASqB,iBAAiB,sCADtCC,EAAA,EAAAA,EAAAF,EAA4BjB,OAASmB,IAC5BrB,EAAWmB,EAACC,IAgF9BE,GAzFH,CA2FEC,OAAQzB,OAAQC","file":"djo_layout2.min.js","sourcesContent":[";(function ($, window, document, undefined) {\n    \"use strict\";\n    \n    /**\n     * find all videos\n     */\n\n    function findVideos() {\n        if($('.aheto-video--djo-inline').length ) {\n            let videos = document.querySelectorAll('.aheto-video--djo-inline .js-video');\n\n            for (let i = 0; i < videos.length; i++) {\n                setupVideo(videos[i]);\n            }\n        }\n    }\n\n    /**\n     * Setup video after click on box\n     * \n     * @param video \n     */\n\n    function setupVideo(video) {\n        if($('.aheto-video--djo-inline').length ) {\n            let link = video.querySelector('.aheto-video--djo-inline .js-link');\n            let button = video.querySelector('.aheto-video--djo-inline .js-button');\n            let id = video.getAttribute('data-id');\n\n            video.addEventListener('click', () => {\n                let iframe = createIframe(id);\n\n                link.remove();\n                button.remove();\n                video.appendChild(iframe);\n            });\n\n            link.removeAttribute('href');\n            video.classList.add('video--enabled');\n        }\n    }\n\n    /**\n     * Parse ID from URL\n     * \n     * @param media Link with video ID(youtube poster src)\n     */\n\n    // function parseMediaURL(media) {\n    // \tlet regexp = /https:\\/\\/i\\.ytimg\\.com\\/vi\\/([a-zA-Z0-9_-]+)\\/maxresdefault\\.jpg/i;\n    // \tlet url = media.src;\n    // \tlet match = url.match(regexp);\n\n    // \treturn match[1];\n    // }\n\n    /**\n     * Create Iframe\n     * \n     * @param id Video ID\n     * \n     * @returns iframe objects\n     */\n\n    function createIframe(id) {\n        let iframe = document.createElement('iframe');\n\n        iframe.setAttribute('allowfullscreen', '');\n        iframe.setAttribute('allow', 'autoplay');\n        iframe.setAttribute('src', generateURL(id));\n        iframe.classList.add('aheto-video__media');\n\n        return iframe;\n    }\n\n    /**\n     * Generate full video URL\n     * \n     * @param id Video ID\n     * \n     * @returns full video url\n     */\n\n    function generateURL(id) {\n        let query = '?rel=0&showinfo=0&autoplay=1';\n\n        return 'https://www.youtube.com/embed/' + id + query;\n    }\n\n    findVideos();\t\n\n})(jQuery, window, document);"]}