{"version":3,"sources":["navigation/assets/js/vestry_layout1.js"],"names":["$","window","document","undefined","$WIN","$mainHeader","$menuItems","find","outerHeight","lastId","$topMenu","hasPassiveEvents","passive","passiveTestOptions","removeEventListener","addEventListener","e","mobFullHeight","preventDefault","isHome","hasClass","scrollTo","id","offsetTop","length","offset","top","topMenuHeight","stop","animate","scrollTop","on","href","this","get","getAttribute","indexOf","targetID","data","setItem","localStorage","scroll","addClass","removeClass","getItem","setTimeout","$doc","$events","_data","click","i","handler","namespace","selector","homeUrl","attr","each","thisUrl","newUrl","jQuery"],"mappings":"cAAE,SAAWA,EAAGC,EAAQC,EAAUC,GAG9B,IAAMC,EAAOJ,EAAEC,GAHhBI,EAAqBH,EAAAA,mBAMhBI,EALJN,EAAA,sBAK0BO,KAAK,KAHzBH,EAANJ,EAAA,iBAAAQ,cAAA,GAMIC,GAHaC,EAAAA,UAGjB,GAAA,QAAA,IAEaT,EAFb,CAGIU,IAAAA,EAHJ,CAOQC,cADEC,OADCZ,GAAX,EACUY,IAGEZ,EAAOE,iBAAP,cAAA,KAAAU,GACHZ,EAAAa,oBAAA,cAAA,KAAAD,GAJsBX,EAA3Ba,iBAAA,YAAA,SAAAC,GARa,GAkBbL,EAAiBM,CACXC,SAAAA,GADNf,GASJ,IAAAgB,IAAAnB,EAAA,QAAAoB,SAAA,QA+BA,SAASC,EAASC,GAAlB,GAAsB,GAAbD,EAAAA,QAAT,KAAsB,CAClB,IAAAE,EAAAvB,EAAAsB,GAAAE,OAAAxB,EAAAsB,GAAAG,SAAAC,IAAAC,EAAA,EAAA,EAEUJ,GAGFvB,EAAE,cAAc4B,OAAOC,QAAQ,CADnCC,UAAeP,GACT,MA6Cd,GAvEAjB,EAAWyB,GAAG,eAAgB,SAAUf,GACpC,IAAMgB,EAAOhC,EAAEiC,MAAMC,IAAI,GAAGC,aAAa,QAGnCjB,GAJoB,GAApBc,EAAII,QAAA,MACApB,EAAAE,kBAGJA,EAAAA,CACL,IAAAmB,EAAArC,EAAAiC,MAAAK,KAAA,MAAAtC,EAAAiC,MAAAK,KAAA,MAAA,GAEInB,aAAQoB,QAAA,UAAAF,GAGTG,EAAAA,KAoBHxC,EAAAC,GAAAwC,OAAA,WACJ,GAAAzC,EAAAiC,MAAAH,YAGO9B,EAAE,wBAAwB0C,SAAS,wBADjC1C,EAAD,wBAAyB2C,YAAA,0BAWlCvC,EAAK2B,GAAG,OAAQ,WAARS,aAAQI,QAAM,aAEdJ,EADJA,aAAAI,QAAA,YAEUP,aAAWG,WAAaI,YAGjCC,WAAA,WAGG,IAAMC,EAAO9C,EAAEE,GADR6C,EAAAzC,EAAMkB,OAAAxB,EAAAgD,MAAAF,EAAA,GAAA,UAAA,KACPA,GAAIC,EACNA,IAAUzC,IAAAA,EAAAA,EAAA2C,MAAsBD,OAAU,EAAK,GAAjBE,EAAiBA,IAArC,CAGN,IAAMC,EAAUJ,EAAQE,MAAMC,GAFzBC,GAAA,UAAAA,EAAAC,WAAA,iBAAAD,EAAAE,UACIN,EAAQE,IAAAA,QAARE,EAA2BA,WAGhCL,QAYf3B,EAAQ,CACT,IAAMmC,EAAUtD,EAAE,0BAA0BuD,KAAK,QADxClD,EAAAE,KAAA,kBAEKiD,KAAGnD,WAET,IAAMoD,EAAAzD,EAAYiC,MAAAsB,KAAA,QAIlBE,GAA2B,GAA3BA,EAAQrB,QAAR,KAA2B,CACrBsB,IAASJ,EAEfA,EACAtD,EAAEiC,MAAMsB,KAAK,UAAWE,GAG3BzD,EAAAiC,MAAAsB,KAAA,OAAAG,OAnIX,CAuICC,OAAQ1D,OAAQC","file":"vestry_layout1.min.js","sourcesContent":["; (function ($, window, document, undefined) {\n    \"use strict\";\n\n    const $WIN = $(window),\n        $mainHeader = $('.main-header-js'),\n        $topMenu = $('.main-header-js ul'),\n        $menuItems = $topMenu.find(\"a\"),\n        topMenuHeight = $('.aheto-header').outerHeight() + 50\n\n    let lastId,\n        $winHeight = $WIN.height(),\n        isBlocked = false,\n        hasPassiveEvents = false;\n\n    if (typeof window !== 'undefined') {\n        const passiveTestOptions = {\n            get passive() {\n                hasPassiveEvents = true;\n                return undefined;\n            }\n        };\n        window.addEventListener('testPassive', null, passiveTestOptions);\n        window.removeEventListener('testPassive', null, passiveTestOptions);\n    }\n    document.addEventListener('touchmove', function (e) {\n        if (isBlocked && mobFullHeight < $winHeight) {\n            e.preventDefault();\n        } else if (isBlocked && !e.target.closest('.js-mob-menu')) {\n            e.preventDefault();\n        }\n    }, hasPassiveEvents ? {\n        passive: false\n    } : undefined);\n\n    /**\n     * Check if home page\n     */\n\n    const isHome = $('body').hasClass('home') ? true : false;\n\n    /**\n     * Set up custon namespace to prevent Elementor default ScrollToId\n     * Custom scroll to target section\n     */\n\n    $menuItems.on('click.djoNav', function (e) {\n        const href = $(this).get(0).getAttribute('href');\n\n        if (href.indexOf('#') >= 0) {\n            e.preventDefault();\n        }\n\n        if (!isHome) {\n            const targetID = $(this).data('id') ? $(this).data('id') : '';\n            //save in localstorage Id of target section\n            localStorage.setItem('blockID', targetID);\n        }\n\n        scrollTo(href);\n    });\n\n    /**\n     * Scrool to Id function\n     */\n\n    function scrollTo(id) {\n        //check if the url is realy ID\n        if (id.indexOf(\"#\") >= 0) {\n            const offsetTop = $(id).length ? $(id).offset().top - topMenuHeight + 1 : 0;\n\n            if (offsetTop) {\n                $('html, body').stop().animate({\n                    scrollTop: offsetTop\n                }, 350);\n            }\n        }\n    }\n    $(window).scroll(function () {\n        if ($(this).scrollTop() > 10) {\n            $('.aheto-header--fixed').addClass('vestry-header-scroll');\n        } else {\n            $('.aheto-header--fixed').removeClass('vestry-header-scroll');\n        }\n    });\n\n    /**\n     * Prevent other events on main nav items(if namespace != to created  before)\n     */\n\n    $WIN.on(\"load\", () => {\n        //get target section ID\n        if (localStorage.getItem('blockID')) {\n            const targetID = localStorage.getItem('blockID');\n            scrollTo(targetID);\n            localStorage.removeItem('blockID');\n        }\n\n        setTimeout(() => {\n            const $doc = $(document),\n                $events = $menuItems.length ? $._data($doc[0], \"events\") : null;\n            if ($events) {\n                for (let i = $events.click.length - 1; i >= 0; i--) {\n                    const handler = $events.click[i];\n                    if (handler && handler.namespace != \"djoNav\" && handler.selector === 'a[href*=\"#\"]') {\n                        $doc.off(\"click\", handler.handler);\n                    }\n                }\n            }\n        }, 300);\n    });\n\n\n    /**\n     * Change links for inner pages\n     */\n\n    if (!isHome) {\n        const homeUrl = $('.main-header__logo > a').attr('href');\n        const linksArr = $mainHeader.find('.menu-item > a');\n\n        linksArr.each(function () {\n            const thisUrl = $(this).attr('href');\n\n            //check if this link to ID\n            if (thisUrl.indexOf(\"#\") >= 0) {\n                const newUrl = homeUrl;\n\n                //save target id in data-atrribute\n                $(this).attr('data-id', thisUrl);\n                //set url to home page instead of ID\n                $(this).attr('href', newUrl);\n            }\n        });\n    }\n\n})(jQuery, window, document);"]}