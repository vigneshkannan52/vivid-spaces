{"version":3,"sources":["navigation/assets/js/djo_layout1.js"],"names":["$","window","document","length","lastId","scrollTo","id","indexOf","offsetTop","offset","top","topMenuHeight","removeClass","stop","animate","scrollTop","width","$WIN","$mainHeader","$menuItems","find","outerHeight","$toggleMenu","$headerWrap","querySelector","$menuBox","map","item","this","attr","scrollPosition","height","$topMenu","pageYOffset","overflow","position","$body","style","removeProperty","hasClass","jQuery","on","e","getAttribute","closest","data","preventDefault","isHome","targetID","localStorage","mobileMenu","href","removeItem","getItem","setTimeout","$events","$doc","_data","handler","i","click","namespace","selector","off","scrollControl","enable","addClass","classList","event","target","className","remove","cur","fromTop","scrollItems","parent","filter","newUrl","homeUrl","each","thisUrl"],"mappings":"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","file":"djo_layout1.min.js","sourcesContent":[";\n(function ($, window, document, undefined) {\n    \"use strict\";\n\n\n    if ($('.main-header--djo-layout1').length) {\n\n        const $WIN = $(window),\n            $mainHeader = $('.main-header-js'),\n            $topMenu = $('.main-header-js ul'),\n            $menuItems = $topMenu.find(\"a\"),\n            topMenuHeight = $('.aheto-header').outerHeight() + 50,\n            $toggleMenu = $('.js-toggle-menu'),\n            $headerWrap = $('.aheto-header'),\n            $body = document.querySelector('body'),\n            $menuBox = $headerWrap.find('.main-header__menu-box'),\n            scrollItems = $menuItems.length && $menuItems\n                .map(function () {\n                    if ($(this).attr('href').indexOf(\"#\") >= 0) {\n                        const item = $($(this).attr(\"href\"));\n                        if (item.length) {\n                            return item;\n                        }\n                    }\n                });\n\n        let lastId,\n            $winHeight = $WIN.height(),\n            scrollPosition = 0;\n\n        const scrollControl = {\n            enable() {\n                scrollPosition = window.pageYOffset;\n                $body.style.overflow = 'hidden';\n                $body.style.position = 'fixed';\n                $body.style.top = `-${scrollPosition}px`;\n                $body.style.width = '100%';\n            },\n            disable() {\n                $body.style.removeProperty('overflow');\n                $body.style.removeProperty('position');\n                $body.style.removeProperty('top');\n                $body.style.removeProperty('width');\n                window.scrollTo(0, scrollPosition);\n            },\n        };\n\n        /**\n         * Check if home page\n         */\n\n        const isHome = $('body').hasClass('home') || $('.js-home').hasClass('home') ? true : false;\n\n        /**\n         * Set up custon namespace to prevent Elementor default ScrollToId\n         * Custom scroll to target section\n         */\n\n        $menuItems.on('click.djoNav', function (e) {\n            const href = $(this).get(0).getAttribute('href');\n            const mobileMenu = +$(this).closest('.main-header-js').data('mobile-menu');\n\n            if (href.indexOf('#') >= 0) {\n                e.preventDefault();\n            }\n\n            if (!isHome) {\n                const targetID = $(this).data('id') ? $(this).data('id') : '';\n                //save in localstorage Id of target section\n                localStorage.setItem('blockID', targetID);\n            }\n\n            $menuBox.removeClass('open');\n            $('body').removeClass('sidebar-open');\n            if ($(window).width() <= (mobileMenu + 1)) {\n                scrollControl.disable();\n            }\n\n            scrollTo(href);\n        });\n\n        /**\n         * Scrool to Id function\n         */\n\n        function scrollTo(id) {\n            //check if the url is realy ID\n            if (id.indexOf(\"#\") >= 0) {\n                const offsetTop = $(id).length ? $(id).offset().top - topMenuHeight + 1 : 0;\n                if (offsetTop) {\n                    $('html, body').stop().animate({\n                        scrollTop: offsetTop\n                    }, 350);\n                }\n            }\n        }\n\n        /**\n         * Prevent other events on main nav items(if namespace != to created  before)\n         */\n\n        $WIN.on(\"load\", () => {\n            //get target section ID\n            if (localStorage.getItem('blockID')) {\n                const targetID = localStorage.getItem('blockID');\n                scrollTo(targetID);\n                localStorage.removeItem('blockID');\n            }\n\n            setTimeout(() => {\n                const $doc = $(document),\n                    $events = $menuItems.length ? $._data($doc[0], \"events\") : null;\n                if ($events) {\n                    for (let i = $events.click.length - 1; i >= 0; i--) {\n                        const handler = $events.click[i];\n                        if (handler && handler.namespace != \"djoNav\" && handler.selector === 'a[href*=\"#\"]') {\n                            $doc.off(\"click\", handler.handler);\n                        }\n                    }\n                }\n            }, 300);\n        });\n\n        /**\n         * Toogle menu on mobile\n         */\n\n        if ($headerWrap.length) {\n\n            $toggleMenu.on('click', function () {\n                scrollControl.enable();\n                $menuBox.addClass('open');\n                $('body').addClass('sidebar-open');\n            });\n        }\n\n        document.addEventListener('touchstart', (event) => {\n            if (event.target && event.target.className === 'body-overlay') {\n                scrollControl.disable();\n                $body.classList.remove('sidebar-open');\n                $menuBox.removeClass('open');\n            }\n        });\n\n        /**\n         * Close mobile menu\n         */\n\n        $(document).on('click', '.btn-close', function () {\n            scrollControl.disable();\n            $menuBox.removeClass('open');\n            $('body').removeClass('sidebar-open');\n        })\n\n        /**\n         * Highlight active menu on scroll\n         */\n\n        $WIN.on('scroll', function () {\n            const fromTop = $(this).scrollTop() + topMenuHeight;\n\n            let cur = scrollItems.map(function () {\n                if ($(this).offset().top < fromTop)\n                    return this;\n            });\n\n            cur = cur[cur.length - 1];\n\n            const id = cur && cur.length ? cur[0].id : \"\";\n\n            if (id && lastId !== id) {\n                lastId = id;\n                $menuItems\n                    .parent().removeClass(\"active\")\n                    .end()\n                    .filter(\"[href=\\\\#\" + id + \"]\")\n                    .parent()\n                    .addClass(\"active\");\n            } else if (!id) {\n                $menuItems\n                    .parent().removeClass(\"active\");\n            }\n        });\n\n        /**\n         * Change links for inner pages\n         */\n\n        if (!isHome) {\n            const homeUrl = $('.main-header--djo-layout1  .main-header__logo > a').attr('href');\n            const linksArr = $mainHeader.find('.menu-item > a');\n\n            linksArr.each(function () {\n                const thisUrl = $(this).attr('href');\n\n                //check if this link to ID\n                if (thisUrl.indexOf(\"#\") >= 0) {\n                    const newUrl = homeUrl;\n\n                    //save target id in data-atrribute\n                    $(this).attr('data-id', thisUrl);\n                    //set url to home page instead of ID\n                    $(this).attr('href', newUrl);\n                }\n            });\n\n        }\n    }\n})(jQuery, window, document);"]}