{"version":3,"sources":["pricing-tables/assets/js/snapster_layput9.js"],"names":["jQuery","$","window","snapsterPricelistForm","removeAttr","prop","find","attr","closest","on","this","snapsterPricelistFormSend","wrapp_elements","mail_to","e","placeholder","removeClass","packages","submit","preventDefault","dataPrice","packagesString","dataTitle","price","length","each","index","join","form","serialize","ajax","type","url","get","ajaxurl","data","$data","beforeSend","addClass","success","show","hide","val"],"mappings":"aAAAA,OAAO,SAAUC,GAAjBD,EAAM,gBAI8C,IAAjCE,OAAOC,wBACRD,OAACC,sBAAwB,WAKjBF,EAAA,4DAAkEG,SAClE,GAAAH,EAAA,uDAAAI,KAAA,WACAJ,EAAA,qCAA0CK,KAAA,wBAA6BF,WAAzE,YAAAH,EAAE,qCAAqCK,KAAK,wBAAwBC,KAAK,YAAW,GAK/EN,EAAOO,4DAAkDC,GAAA,SAA1D,WACE,GAAAR,EAAAS,MAAAL,KAAA,WACMG,EAAQE,MAAAF,QAAA,qCAA0CF,KAAA,wBAA6BF,WAAvF,YAJRH,EAAAS,MAAAF,QAAA,qCAAAF,KAAA,wBAAAC,KAAA,YAAA,OAgBRJ,8BAIQ,IAAAD,OAAAS,4BAGET,OAAAS,0BAAA,WAIMC,OAAAA,MACAC,EAAAA,qEADJJ,GAAA,QAAA,SAAAK,GAEIC,EAAAA,wCAAkCT,KAAA,qCAFtCU,YAAA,YAIIC,EAAAA,wCAJJC,OAAA,SAAAJ,GAQEA,EAAAK,iBAEMC,IAOUC,EAPDT,EAAgBX,EAAAS,MAAAF,QAAA,qCAErBK,EAAUS,EAAkBF,KAAAA,aAJxCL,EAAAH,EAAAN,KAAA,qCAAAC,KAAA,eALIgB,EAAQX,EAAeL,KAAK,cAapBiB,EAAW,GAIXvB,EAAC,sEAAbwB,KAAA,SAAAC,GAEO,IAAAJ,EAAArB,EAAAS,MAAAJ,KAAA,0CAAAC,KAAA,oBAAAa,EAAAnB,EAAAS,MAAAJ,KAAA,0CAAAC,KAAA,oBAGGU,EAAAS,GAAAJ,EAAA,IAAAF,IAAA,EAIFH,EAAYI,SACZA,EALEJ,EAAAU,KAAA,MAQI,IAAEC,EAAA3B,EAAAS,MAAAmB,YAXT5B,EAAA6B,KAAA,CAcMC,KAAA,OACHC,IAAAC,IAAAC,QACLC,KAAA,CACYC,OAAO,uBACL9B,QAAKO,EAZhBU,MAASA,EAcEN,SAASI,EACLf,YAAKS,EACLT,KAAKsB,GACTS,WAAX,WACkBpC,EAACK,4CAA6CgC,SAAQF,WAGrEG,QAAA,WACYjC,EAAAA,4CAAfU,YAAA,aAEAJ,KAAeN,SAAK8B,GACvBxB,EAAAN,KAAA,qCAAAgC,SAAA,UAEmB,UAApBF,GAjCJxB,EAAAN,KAAA,+BAAAkC,OA1BJ5B,EAAAN,KAAA,gCAAAmC,OA8DH,EAAAxB,EAAAO,QApELZ,EAAAN,KAAA,mCAAAC,KAAA,OAAA6B,GAAAI,SAyEA5B,EAAAN,KAAA,+BAAAmC,OAGH7B,EAAAN,KAAA,sCAAAmC,OA1GL7B,EAAAN,KAAA,gCAAAkC,QA+FwB5B,EAAeN,KAAK,wCAAwCoC,IAAI,UAQhFzC,EAAEC,QAAQO,GAAG,OAAQ,WACjBE","file":"snapster_layput9.min.js","sourcesContent":["jQuery(function ($) {\n\n    $(() => {\n\n        if (typeof window.snapsterPricelistForm === 'undefined') {\n            window.snapsterPricelistForm = function () {\n\n\n                if($('.aheto-pricing-tables__send-email input[type=\"checkbox\"]').length){\n                    if($('.aheto-pricing-tables__email input[type=\"checkbox\"]').prop(\"checked\") == true){\n                        $('.aheto-pricing-tables__send-email').find('input[type=\"submit\"]').removeAttr('disabled');\n                    } else{\n                        $('.aheto-pricing-tables__send-email').find('input[type=\"submit\"]').attr('disabled',true);\n                    }\n\n                    $('.aheto-pricing-tables__send-email input[type=\"checkbox\"]').on('change', function () {\n                        if($(this).prop(\"checked\") == true){\n                            $(this).closest('.aheto-pricing-tables__send-email').find('input[type=\"submit\"]').removeAttr('disabled');\n                        } else{\n                            $(this).closest('.aheto-pricing-tables__send-email').find('input[type=\"submit\"]').attr('disabled',true);\n                        }\n                    })\n                }\n\n            };\n\n            snapsterPricelistForm();\n        }\n\n\n\n        if (typeof window.snapsterPricelistFormSend === 'undefined') {\n            window.snapsterPricelistFormSend = function () {\n\n                if (window.get) {\n                    $('#aheto-pricing-tables__pricelistform .aheto-pricing-tables__close').on('click', function (e) {\n                        $('#aheto-pricing-tables__pricelistform').find('.aheto-pricing-tables__send-popup').removeClass('active');\n                    });\n                    $('#aheto-pricing-tables__pricelistform').submit( function (e) {\n\n                        e.preventDefault();\n\n                        let wrapp_elements = $(this).closest('.aheto-pricing-tables__send-email'),\n                            mail_to = wrapp_elements.attr('data-mail'),\n                            placeholder = wrapp_elements.find('textarea[name=\"snapster_message\"]').attr('placeholder'),\n                            price = wrapp_elements.attr('data-price'),\n                            packages = [],\n                            packagesString;\n\n\n                        $('.aheto-pricing-tables--snapster .aheto-pricing-tables__wrap.active').each(function (index ) {\n                            let dataTitle = $(this).find('.aheto-pricing-tables__pricelist-value').attr('data-price-title'),\n                                dataPrice = $(this).find('.aheto-pricing-tables__pricelist-value').attr('data-price-value');\n\n                            packages[index] = dataTitle + '=' + dataPrice;\n\n                        });\n\n                        if(packages.length > 0){\n                            packagesString = packages.join('&');\n                        }\n\n                        let form = $(this).serialize();\n\n                        $.ajax({\n                            type: \"POST\",\n                            url: get.ajaxurl,\n                            data: {\n                                'action': 'aheto_pricing_tables',\n                                'mail_to': mail_to,\n                                'price': price,\n                                'packages': packagesString,\n                                'placeholder': placeholder,\n                                form: form\n                            },\n                            beforeSend: function() {\n                                $(\".aheto-pricing-tables__price-send-loader\").addClass('active');\n                            },\n                            success: function() {\n                                $(\".aheto-pricing-tables__price-send-loader\").removeClass('active');\n                            }\n                        }).done(function($data) {\n                            wrapp_elements.find('.aheto-pricing-tables__send-popup').addClass('active');\n\n                            if ( $data !== 'error') {\n                                wrapp_elements.find('.aheto-pricing-tables__done').show();\n                                wrapp_elements.find('.aheto-pricing-tables__error').hide();\n                                if(packages.length > 0){\n                                    wrapp_elements.find('.aheto-pricing-tables__pdf-wrap').attr('href', $data ).show();\n                                }\n\n                            } else {\n                                wrapp_elements.find('.aheto-pricing-tables__done').hide();\n                                wrapp_elements.find('.aheto-pricing-tables__popup-title').hide();\n                                wrapp_elements.find('.aheto-pricing-tables__error').show();\n                            }\n\n                            wrapp_elements.find('input:not([type=\"submit\"]), textarea').val('');\n                        });\n                    });\n                }\n\n\n            };\n\n            $(window).on('load', function () {\n                snapsterPricelistFormSend();\n            });\n        }\n    });\n\n});"]}