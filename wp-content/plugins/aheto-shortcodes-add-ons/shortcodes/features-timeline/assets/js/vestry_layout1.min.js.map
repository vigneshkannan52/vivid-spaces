{"version":3,"sources":["features-timeline/assets/js/vestry_layout1.js"],"names":["$","window","document","timelines","eventsMinDistance","visibleContent","timelineComponents","timelineTotWidth","find","translateValue","getTranslateValue","newContent","Number","css","replace","selectedDate","string","newEvent","next","children","updateFilling","removeClass","updateTimelinePosition","prev","length","parent","eventLeft","eventStyle","timelineWidth","addClass","timelineTranslate","updateOlderEvents","event","eventsWrapper","get","value","getPropertyValue","setTransformValue","translateTimeline","getComputedStyle","selectedEvent","totWidth","eventWidth","scaleValue","filling","setTimelineWidth","width","timeSpan","timeSpanNorm","totalWidth","eventsContent","selectedContent","classEnetering","selectedContentHeight","eventDate","height","index","timelineStyle","attr","one","element","style","prevAll","property","end","nextAll","timeline","parseDate","events","dateArrays","each","newDate","dateComp","split","dateDistances","distance","daydiff","first","second","offsetParent","elementInViewport","el","top","offsetTop","left","offsetLeft","offsetWidth","offsetHeight","pageYOffset","innerHeight","pageXOffset","innerWidth","checkMQ","querySelector","this","data","Date","push","dates","i","Math","min","apply","minLapse","updateVisibleContent","eq","distanceNorm","classLeaving","round","setTimeout","updateSlide","last","hasClass","on","preventDefault","showNewContent","keyup","which","jQuery"],"mappings":"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","file":"vestry_layout1.min.js","sourcesContent":[";(function ($, window, document, undefined) {\n\n    let timelines = $('.aheto-timeline--vestry-modern'),\n        eventsMinDistance = 55;\n\n    (timelines.length > 0) && initTimeline(timelines);\n\n    function initTimeline(timelines) {\n        timelines.each(function () {\n\n            const timeline = $(this),\n                timelineComponents = {};\n\n            //cache timeline components\n            timelineComponents['timelineWrapper'] = timeline.find('.aheto-timeline__events-wrapper');\n            timelineComponents['eventsWrapper'] = timelineComponents['timelineWrapper'].children('.aheto-timeline__events');\n            timelineComponents['fillingLine'] = timelineComponents['eventsWrapper'].children('.aheto-timeline__filling-line');\n            timelineComponents['timelineEvents'] = timelineComponents['eventsWrapper'].find('a');\n            timelineComponents['timelineDates'] = parseDate(timelineComponents['timelineEvents']);\n            timelineComponents['eventsMinLapse'] = minLapse(timelineComponents['timelineDates']);\n            timelineComponents['timelineNavigation'] = timeline.find('.aheto-timeline__navigation');\n            timelineComponents['eventsContent'] = timeline.children('.aheto-timeline__events-content');\n\n\n            //assign a left postion to the single events along the timeline\n            setDatePosition(timelineComponents, eventsMinDistance);\n            //assign a width to the timeline\n            let timelineTotWidth = setTimelineWidth(timelineComponents, eventsMinDistance);\n\n            //the timeline has been initialize - show it\n            timeline.addClass('loaded');\n\n\n            $(window).on('resize orientationchange', function () {\n                const timelineLastDate =  timelineComponents['eventsWrapper'].find('li').last().find('a');\n                if(timelineLastDate.hasClass('selected')){\n                    // updateSlide(timelineComponents, timelineTotWidth, 'next');\n                    setTimeout(updateSlide, 100, timelineComponents, timelineTotWidth, 'next');\n                }\n            });\n\n             //detect click on the next arrow\n            timelineComponents['timelineNavigation'].on('click', '.next', function (event) {\n                event.preventDefault();\n                updateSlide(timelineComponents, timelineTotWidth, 'next');\n            });\n            //detect click on the prev arrow\n            timelineComponents['timelineNavigation'].on('click', '.prev', function (event) {\n                event.preventDefault();\n                updateSlide(timelineComponents, timelineTotWidth, 'prev');\n            });\n            //detect click on the a single event - show new event content\n            timelineComponents['eventsWrapper'].on('click', 'a', function (event) {\n                event.preventDefault();\n                timelineComponents['timelineEvents'].removeClass('selected');\n                $(this).addClass('selected');\n                updateOlderEvents($(this));\n                updateFilling($(this), timelineComponents['fillingLine'], timelineTotWidth);\n                updateVisibleContent($(this), timelineComponents['eventsContent']);\n            });\n\n            //on swipe, show next/prev event content\n            timelineComponents['eventsContent'].on('swipeleft', function () {\n                const mq = checkMQ();\n                (mq == 'mobile') && showNewContent(timelineComponents, timelineTotWidth, 'next');\n            });\n            timelineComponents['eventsContent'].on('swiperight', function () {\n                const mq = checkMQ();\n                (mq == 'mobile') && showNewContent(timelineComponents, timelineTotWidth, 'prev');\n            });\n\n            //keyboard navigation\n            $(document).keyup(function (event) {\n                if (event.which == '37' && elementInViewport(timeline.get(0))) {\n                    showNewContent(timelineComponents, timelineTotWidth, 'prev');\n                } else if (event.which == '39' && elementInViewport(timeline.get(0))) {\n                    showNewContent(timelineComponents, timelineTotWidth, 'next');\n                }\n            });\n        });\n    }\n\n\n\n\n    function updateSlide(timelineComponents, timelineTotWidth, string) {\n        //retrieve translateX value of timelineComponents['eventsWrapper']\n        const translateValue = getTranslateValue(timelineComponents['eventsWrapper']),\n            wrapperWidth = Number(timelineComponents['timelineWrapper'].css('width').replace('px', ''));\n        //translate the timeline to the left('next')/right('prev')\n        (string == 'next')\n            ? translateTimeline(timelineComponents, translateValue - wrapperWidth + eventsMinDistance, wrapperWidth - timelineTotWidth)\n            : translateTimeline(timelineComponents, translateValue + wrapperWidth - eventsMinDistance);\n    }\n\n    function showNewContent(timelineComponents, timelineTotWidth, string) {\n        //go from one event to the next/previous one\n        const visibleContent = timelineComponents['eventsContent'].find('.selected'),\n            newContent = (string == 'next') ? visibleContent.next() : visibleContent.prev();\n\n        if (newContent.length > 0) { //if there's a next/prev event - show it\n            const selectedDate = timelineComponents['eventsWrapper'].find('.selected'),\n                newEvent = (string == 'next') ? selectedDate.parent('li').next('li').children('a') : selectedDate.parent('li').prev('li').children('a');\n\n            updateFilling(newEvent, timelineComponents['fillingLine'], timelineTotWidth);\n            updateVisibleContent(newEvent, timelineComponents['eventsContent']);\n            newEvent.addClass('selected');\n            selectedDate.removeClass('selected');\n            updateOlderEvents(newEvent);\n            updateTimelinePosition(string, newEvent, timelineComponents, timelineTotWidth);\n        }\n    }\n\n    function updateTimelinePosition(string, event, timelineComponents, timelineTotWidth) {\n        //translate timeline to the left/right according to the position of the selected event\n        const eventStyle = window.getComputedStyle(event.get(0), null),\n            eventLeft = Number(eventStyle.getPropertyValue(\"left\").replace('px', '')),\n            timelineWidth = Number(timelineComponents['timelineWrapper'].css('width').replace('px', ''));\n\n        timelineTotWidth = Number(timelineComponents['eventsWrapper'].css('width').replace('px', ''));\n        const timelineTranslate = getTranslateValue(timelineComponents['eventsWrapper']);\n\n        if ((string == 'next' && eventLeft > timelineWidth - timelineTranslate) || (string == 'prev' && eventLeft < -timelineTranslate)) {\n            translateTimeline(timelineComponents, -eventLeft + timelineWidth / 2, timelineWidth - timelineTotWidth);\n        }\n    }\n\n\n    function translateTimeline(timelineComponents, value, totWidth) {\n        const eventsWrapper = timelineComponents['eventsWrapper'].get(0);\n        value = (value > 0) ? 0 : value; //only negative translate value\n        value = (!(typeof totWidth === 'undefined') && value < totWidth) ? totWidth : value; //do not translate more than timeline width\n        setTransformValue(eventsWrapper, 'translateX', value + 'px');\n        //update navigation arrows visibility\n        (value == 0) ? timelineComponents['timelineNavigation'].find('.prev').addClass('inactive') : timelineComponents['timelineNavigation'].find('.prev').removeClass('inactive');\n        (value == totWidth) ? timelineComponents['timelineNavigation'].find('.next').addClass('inactive') : timelineComponents['timelineNavigation'].find('.next').removeClass('inactive');\n    }\n\n\n\n\n    function updateFilling(selectedEvent, filling, totWidth) {\n        //change .aheto-timeline__filling-line length according to the selected event\n        const eventStyle = window.getComputedStyle(selectedEvent.get(0), null);\n        let eventLeft = eventStyle.getPropertyValue(\"left\");\n        const eventWidth = eventStyle.getPropertyValue(\"width\");\n        eventLeft = Number(eventLeft.replace('px', '')) + Number(eventWidth.replace('px', '')) / 2;\n        const scaleValue = eventLeft / totWidth;\n        setTransformValue(filling.get(0), 'scaleX', scaleValue);\n    }\n\n    function setDatePosition(timelineComponents, min) {\n        for (let i = 0; i < timelineComponents['timelineDates'].length; i++) {\n            const distance = daydiff(timelineComponents['timelineDates'][0], timelineComponents['timelineDates'][i]),\n                distanceNorm = Math.round(distance / timelineComponents['eventsMinLapse']) + 2;\n            timelineComponents['timelineEvents'].eq(i).css('left', distanceNorm * min + 'px');\n        }\n    }\n\n    function setTimelineWidth(timelineComponents, width) {\n        const timeSpan = daydiff(timelineComponents['timelineDates'][0], timelineComponents['timelineDates'][timelineComponents['timelineDates'].length - 1]);\n        let timeSpanNorm = timeSpan / timelineComponents['eventsMinLapse'];\n        timeSpanNorm = Math.round(timeSpanNorm) + 4;\n        const totalWidth = timeSpanNorm * width;\n        // timelineComponents['eventsWrapper'].css('width', totalWidth + 'px');\n        updateFilling(timelineComponents['timelineEvents'].eq(0), timelineComponents['fillingLine'], totalWidth);\n\n        return totalWidth;\n    }\n\n\n    function updateVisibleContent(event, eventsContent) {\n        const eventDate = event.data('date'),\n            visibleContent = eventsContent.find('.selected'),\n            selectedContent = eventsContent.find('[data-date=\"' + eventDate + '\"]'),\n            selectedContentHeight = selectedContent.height();\n        let classEnetering,\n            classLeaving;\n\n        if (selectedContent.index() > visibleContent.index()) {\n            classEnetering = 'selected enter-right';\n            classLeaving = 'leave-left';\n        } else {\n            classEnetering = 'selected enter-left';\n            classLeaving = 'leave-right';\n        }\n\n\n        selectedContent.attr('class', classEnetering);\n        visibleContent.attr('class', classLeaving).one('webkitAnimationEnd oanimationend msAnimationEnd animationend', function () {\n            visibleContent.removeClass('leave-right leave-left');\n            selectedContent.removeClass('enter-left enter-right');\n        });\n        eventsContent.css('height', selectedContentHeight + 'px');\n    }\n\n    function updateOlderEvents(event) {\n        event.parent('li').prevAll('li').children('a').addClass('older-event').end().end().nextAll('li').children('a').removeClass('older-event');\n    }\n\n    function getTranslateValue(timeline) {\n        const timelineStyle = window.getComputedStyle(timeline.get(0), null);\n        let timelineTranslate = timelineStyle.getPropertyValue(\"-webkit-transform\") ||\n            timelineStyle.getPropertyValue(\"-moz-transform\") ||\n            timelineStyle.getPropertyValue(\"-ms-transform\") ||\n            timelineStyle.getPropertyValue(\"-o-transform\") ||\n            timelineStyle.getPropertyValue(\"transform\");\n        let translateValue = 0;\n\n        if (timelineTranslate.indexOf('(') >= 0) {\n            timelineTranslate = timelineTranslate.split('(')[1];\n            timelineTranslate = timelineTranslate.split(')')[0];\n            timelineTranslate = timelineTranslate.split(',');\n            translateValue = timelineTranslate[4];\n        }\n\n\n        return Number(translateValue);\n    }\n\n    function setTransformValue(element, property, value) {\n        element.style[\"-webkit-transform\"] = property + \"(\" + value + \")\";\n        element.style[\"-moz-transform\"] = property + \"(\" + value + \")\";\n        element.style[\"-ms-transform\"] = property + \"(\" + value + \")\";\n        element.style[\"-o-transform\"] = property + \"(\" + value + \")\";\n        element.style[\"transform\"] = property + \"(\" + value + \")\";\n    }\n\n    //based on http://stackoverflow.com/questions/542938/how-do-i-get-the-number-of-days-between-two-dates-in-javascript\n    function parseDate(events) {\n        const dateArrays = [];\n        events.each(function () {\n            const dateComp = $(this).data('date'),\n                newDate = new Date(dateComp);\n            dateArrays.push(newDate);\n\n        });\n        return dateArrays;\n    }\n\n\n    function daydiff(first, second) {\n        return Math.round((second - first));\n    }\n\n    function minLapse(dates) {\n        //determine the minimum distance among events\n        const dateDistances = [];\n        for (let i = 1; i < dates.length; i++) {\n            const distance = daydiff(dates[i - 1], dates[i]);\n            dateDistances.push(distance);\n        }\n        return Math.min.apply(null, dateDistances);\n    }\n\n    /*\n        How to tell if a DOM element is visible in the current viewport?\n        http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport\n    */\n    function elementInViewport(el) {\n        let top = el.offsetTop;\n        let left = el.offsetLeft;\n        let width = el.offsetWidth;\n        let height = el.offsetHeight;\n\n        while (el.offsetParent) {\n            el = el.offsetParent;\n            top += el.offsetTop;\n            left += el.offsetLeft;\n        }\n\n        return (\n            top < (window.pageYOffset + window.innerHeight) &&\n            left < (window.pageXOffset + window.innerWidth) &&\n            (top + height) > window.pageYOffset &&\n            (left + width) > window.pageXOffset\n        );\n    }\n\n    function checkMQ() {\n        //check if mobile or desktop device\n        return window.getComputedStyle(document.querySelector('.aheto-timeline--vestry-modern'), '::before').getPropertyValue('content').replace(/'/g, \"\").replace(/\"/g, \"\");\n    }\n})(jQuery, window, document);\n"]}