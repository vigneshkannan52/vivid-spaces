!function(a){var r={};function n(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=a,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./assets/admin/src/elementor-modal.js")}({"./assets/admin/src/elementor-modal.js":function(e,t,a){"use strict";a.r(t);var i,r=a("./assets/admin/src/template-library/Manager.js");(i=jQuery)(()=>{window.ahetoTemplateManager=new r.default,window.ahetoTemplateManager.init();var e=i("#tmpl-elementor-add-section");0<e.length&&(e.text(e.text().replace('<div class="elementor-add-section-drag-title','<div class="elementor-add-section-area-button elementor-add-aheto-button" style="background-color: #6d7882;" title="Aheto Elements"> <i class="eicon-folder"></i> </div><div class="elementor-add-section-drag-title')),elementor.on("preview:loaded",function(){i(elementor.$previewContents[0].body).on("click",".elementor-add-aheto-button",function(e){e.preventDefault();var t=i(this),a=t.closest(".elementor-section-wrap"),r=!1,n=elementor.getPreviewView().model.get("elements").length;0<a.length&&(r=!0,n=t.closest(".elementor-add-section").index()),$e.run("ahetolibrary/open",{importOptions:{inside:r,at:n}})})}))})},"./assets/admin/src/template-library/Component.js":function(e,t,a){"use strict";a.r(t);var r=a("elementor"),n=a.n(r),i=a("./assets/admin/src/template-library/LibraryLayoutView.js");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function m(e,t,a){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,a){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var n=Object.getOwnPropertyDescriptor(r,t);return n.get?n.get.call(a):n.value}})(e,t,a||e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}t.default=function(){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,u(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,elementorModules.common.ComponentModal),function(e,t,a){t&&l(e.prototype,t),a&&l(e,a)}(t,[{key:"__construct",value:function(e){this.docLibraryConfig=n.a.config.document.remoteLibrary,this.show=this.show.bind(this),m(u(t.prototype),"__construct",this).call(this,e),this.setDefaultRoute("block"===this.docLibraryConfig.type?"templates/blocks":"templates/pages")}},{key:"getNamespace",value:function(){return"ahetolibrary"}},{key:"getModalLayout",value:function(){return i.default}},{key:"defaultTabs",value:function(){return{"templates/blocks":{title:n.a.translate("blocks"),filter:{source:"aheto",type:"block",subtype:this.docLibraryConfig.category}},"templates/pages":{title:n.a.translate("pages"),filter:{source:"aheto",type:"page"}}}}},{key:"defaultRoutes",value:function(){return{}}},{key:"defaultCommands",value:function(){return Object.assign(m(u(t.prototype),"defaultCommands",this).call(this),{open:this.show})}},{key:"getTabsWrapperSelector",value:function(){return"#elementor-template-library-header-menu"}},{key:"renderTab",value:function(e){this.manager.setScreen(this.tabs[e].filter)}},{key:"activateTab",value:function(e){$e.routes.saveState("ahetolibrary"),m(u(t.prototype),"activateTab",this).call(this,e)}},{key:"open",value:function(){return window.oldTemplateManager=n.a.templates,n.a.templates=window.ahetoTemplateManager,m(u(t.prototype),"open",this).call(this),this.manager.layout||(this.manager.layout=this.layout),!0}},{key:"close",value:function(){return!!m(u(t.prototype),"close",this).call(this)&&(this.manager.modalConfig={},n.a.templates=window.oldTemplateManager,!0)}},{key:"show",value:function(e){this.manager.modalConfig=e,$e.routes.restoreState("ahetolibrary")||$e.route(this.getDefaultRoute())}}]),t}()},"./assets/admin/src/template-library/LibraryCollection.js":function(e,t,a){"use strict";a.r(t);var r=a("elementor"),n=a.n(r),i=a("./assets/admin/src/template-library/LibraryTemplatesEmpty.js"),o=a("./assets/admin/src/template-library/LibraryTemplateRemote.js");t.default=Marionette.CompositeView.extend({template:"#tmpl-aheto-template-library-templates",id:"elementor-template-library-templates",childViewContainer:"#elementor-template-library-templates-container",reorderOnSort:!0,emptyView:function(){return new i.default},ui:{textFilter:"#elementor-template-library-filter-text",selectFilter:".elementor-template-library-filter-select",myFavoritesFilter:"#elementor-template-library-filter-my-favorites",orderInputs:".elementor-template-library-order-input",orderLabels:"label.elementor-template-library-order-label"},events:{"input @ui.textFilter":"onTextFilterInput","change @ui.selectFilter":"onSelectFilterChange","change @ui.myFavoritesFilter":"onMyFavoritesFilterChange","mousedown @ui.orderLabels":"onOrderLabelsClick"},comparators:{title:function(e){return e.get("title").toLowerCase()},popularityIndex:function(e){var t=e.get("popularityIndex");return t=t||e.get("date"),-t},trendIndex:function(e){var t=e.get("trendIndex");return t=t||e.get("date"),-t}},getChildView:function(){return o.default},initialize:function(){this.listenTo(n.a.channels.templates,"filter:change",this._renderChildren)},filter:function(n){var i=!0;return jQuery.each(window.ahetoTemplateManager.getFilterTerms(),function(e){var t=window.ahetoTemplateManager.getFilter(e);if(t){if(this.callback){var a=this.callback.call(n,t);return a||(i=!1),a}var r=t===n.get(e);return r||(i=!1),r}}),i},order:function(e,t){var a=this.comparators[e]||e;t&&(a=this.reverseOrder(a)),this.collection.comparator=a,this.collection.sort()},reverseOrder:function(n){if("function"!=typeof n){var t=n;n=function(e){return e.get(t)}}return function(e,t){var a=n(e);if(void 0===a)return-1;var r=n(t);return void 0===r?1:a<r?1:r<a?-1:0}},addSourceData:function(){var e=this.children.isEmpty();this.$el.attr("data-template-source",e?"empty":window.ahetoTemplateManager.getFilter("source"))},setFiltersUI:function(){this.$(this.ui.selectFilter).select2({placeholder:n.a.translate("category"),allowClear:!0,width:150})},setMasonrySkin:function(){var e=new elementorModules.utils.Masonry({container:this.$childViewContainer,items:this.$childViewContainer.children()});this.$childViewContainer.imagesLoaded(e.run.bind(e))},toggleFilterClass:function(){this.$el.toggleClass("elementor-templates-filter-active",!(!window.ahetoTemplateManager.getFilter("text")&&!window.ahetoTemplateManager.getFilter("favorite")))},onRenderCollection:function(){this.addSourceData(),this.toggleFilterClass(),"aheto"===window.ahetoTemplateManager.getFilter("source")&&"page"!==window.ahetoTemplateManager.getFilter("type")&&(this.setFiltersUI(),this.setMasonrySkin())},onBeforeRenderEmpty:function(){this.addSourceData()},onTextFilterInput:function(){window.ahetoTemplateManager.setFilter("text",this.ui.textFilter.val())},onSelectFilterChange:function(e){var t=jQuery(e.currentTarget),a=t.data("elementor-filter");window.ahetoTemplateManager.setFilter(a,t.val())},onMyFavoritesFilterChange:function(){window.ahetoTemplateManager.setFilter("favorite",this.ui.myFavoritesFilter[0].checked)},onOrderLabelsClick:function(e){var t,a=jQuery(e.currentTarget.control);a[0].checked||(t="asc"!==a.data("default-ordering-direction")),a.toggleClass("elementor-template-library-order-reverse",t),this.order(a.val(),a.hasClass("elementor-template-library-order-reverse"))}})},"./assets/admin/src/template-library/LibraryHeaderBack.js":function(e,t,a){"use strict";a.r(t),t.default=Marionette.ItemView.extend({template:"#tmpl-elementor-template-library-header-back",id:"elementor-template-library-header-preview-back",events:{click:"onClick"},onClick:function(){window.ahetoTemplateManager.showTemplates()}})},"./assets/admin/src/template-library/LibraryHeaderMenu.js":function(e,t,a){"use strict";a.r(t),t.default=Marionette.ItemView.extend({template:"#tmpl-elementor-template-library-header-menu",id:"elementor-template-library-header-menu",templateHelpers:function(){return{tabs:$e.components.get("ahetolibrary").getTabs()}}})},"./assets/admin/src/template-library/LibraryHeaderPreview.js":function(e,t,a){"use strict";a.r(t);var r=a("./assets/admin/src/template-library/LibraryInsertTemplateBehavior.js");t.default=Marionette.ItemView.extend({template:"#tmpl-elementor-template-library-header-preview",id:"elementor-template-library-header-preview",behaviors:{insertTemplate:{behaviorClass:r.default}}})},"./assets/admin/src/template-library/LibraryInsertTemplateBehavior.js":function(e,t,a){"use strict";a.r(t);var r=a("elementor"),n=a.n(r),i=null;i=Marionette.Behavior.extend({ui:{insertButton:".elementor-template-library-template-insert"},events:{"click @ui.insertButton":"onInsertButtonClick"},onInsertButtonClick:function(){var e=n.a.config.document.remoteLibrary.autoImportSettings;e||!this.view.model.get("hasPageSettings")?window.ahetoTemplateManager.importTemplate(this.view.model,{withPageSettings:e}):i.showImportDialog(this.view.model)}},{dialog:null,showImportDialog:function(e){var t=i.getDialog();t.onConfirm=function(){window.ahetoTemplateManager.importTemplate(e,{withPageSettings:!0})},t.onCancel=function(){window.ahetoTemplateManager.importTemplate(e)},t.show()},initDialog:function(){i.dialog=elementorCommon.dialogsManager.createWidget("confirm",{id:"elementor-insert-template-settings-dialog",headerMessage:n.a.translate("import_template_dialog_header"),message:n.a.translate("import_template_dialog_message")+"<br>"+n.a.translate("import_template_dialog_message_attention"),strings:{confirm:n.a.translate("yes"),cancel:n.a.translate("no")}})},getDialog:function(){return i.dialog||i.initDialog(),i.dialog}}),t.default=i},"./assets/admin/src/template-library/LibraryLayoutView.js":function(e,t,a){"use strict";a.r(t);var r=a("elementor"),n=a.n(r),i=a("./assets/admin/src/template-library/LibraryHeaderMenu.js"),o=a("./assets/admin/src/template-library/LibraryCollection.js"),l=a("./assets/admin/src/template-library/LibraryPreview.js"),s=a("./assets/admin/src/template-library/LibraryHeaderPreview.js"),m=a("./assets/admin/src/template-library/LibraryHeaderBack.js");t.default=elementorModules.common.views.modal.Layout.extend({getModalOptions:function(){return{id:"elementor-template-library-modal"}},getLogoOptions:function(){return{title:n.a.translate("library"),click:function(){$e.run("ahetolibrary/open",{toDefault:!0})}}},getTemplateActionButton:function(e){var t="#tmpl-elementor-template-library-"+(e.isPro?"get-pro-button":"insert-button");t=n.a.hooks.applyFilters("elementor/editor/template-library/template/action-button",t,e);var a=Marionette.TemplateCache.get(t);return Marionette.Renderer.render(a)},setHeaderDefaultParts:function(){this.getHeaderView().menuArea.show(new i.default),this.showLogo()},showTemplatesView:function(e){this.modalContent.show(new o.default({collection:e}))},showPreviewView:function(e){this.modalContent.show(new l.default({url:e.get("url")}));var t=this.getHeaderView();t.menuArea.reset(),t.tools.show(new s.default({model:e})),t.logoArea.show(new m.default)}})},"./assets/admin/src/template-library/LibraryPreview.js":function(e,t,a){"use strict";a.r(t),t.default=Marionette.ItemView.extend({template:"#tmpl-elementor-template-library-preview",id:"elementor-template-library-preview",ui:{iframe:"> iframe"},onRender:function(){this.ui.iframe.attr("src",this.getOption("url"))}})},"./assets/admin/src/template-library/LibraryTemplateRemote.js":function(e,t,a){"use strict";a.r(t);var r=a("elementor"),n=a.n(r),i=a("./assets/admin/src/template-library/LibraryInsertTemplateBehavior.js");t.default=Marionette.ItemView.extend({template:"#tmpl-elementor-template-library-template-remote",className:function(){var e="elementor-template-library-template";return e+=" elementor-template-library-template-remote",e+=" elementor-template-library-template-"+this.model.get("type"),this.model.get("isPro")&&(e+=" elementor-template-library-pro-template"),e},ui:function(){return{previewButton:".elementor-template-library-template-preview",favoriteCheckbox:".elementor-template-library-template-favorite-input"}},events:function(){return{"click @ui.previewButton":"onPreviewButtonClick","change @ui.favoriteCheckbox":"onFavoriteCheckboxChange"}},behaviors:{insertTemplate:{behaviorClass:i.default}},onPreviewButtonClick:function(){window.ahetoTemplateManager.layout.showPreviewView(this.model)},onFavoriteCheckboxChange:function(){var e=this.ui.favoriteCheckbox[0].checked;this.model.set("favorite",e),window.ahetoTemplateManager.markAsFavorite(this.model,e),!e&&window.ahetoTemplateManager.getFilter("favorite")&&n.a.channels.templates.trigger("filter:change")}})},"./assets/admin/src/template-library/LibraryTemplatesEmpty.js":function(e,t,a){"use strict";a.r(t);var r=a("elementor"),n=a.n(r);t.default=Marionette.ItemView.extend({id:"elementor-template-library-templates-empty",template:"#tmpl-elementor-template-library-templates-empty",ui:{title:".elementor-template-library-blank-title",message:".elementor-template-library-blank-message"},modesStrings:{empty:{title:n.a.translate("templates_empty_title"),message:n.a.translate("templates_empty_message")},noResults:{title:n.a.translate("templates_no_results_title"),message:n.a.translate("templates_no_results_message")},noFavorites:{title:n.a.translate("templates_no_favorites_title"),message:n.a.translate("templates_no_favorites_message")}},getCurrentMode:function(){return window.ahetoTemplateManager.getFilter("text")?"noResults":window.ahetoTemplateManager.getFilter("favorite")?"noFavorites":"empty"},onRender:function(){var e=this.modesStrings[this.getCurrentMode()];this.ui.title.html(e.title),this.ui.message.html(e.message)}})},"./assets/admin/src/template-library/Manager.js":function(e,t,a){"use strict";a.r(t);var r=a("elementor"),l=a.n(r),s=a("./assets/admin/src/template-library/Component.js"),m=a("./assets/admin/src/template-library/TemplateCollection.js");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.default=function(){this.modalConfig={};var e,t,r,n=this,i={},a={},o={};this.init=function(){!function(){var a={saveDialog:{description:l.a.translate("save_your_template_description")},ajaxParams:{success:function(e){$e.route("ahetolibrary/templates/my-templates",{onBefore:function(){r&&(r.findWhere({template_id:e.template_id})||r.add(e))}})},error:function(e){n.showErrorDialog(e)}}};_.each(["page","section",l.a.config.document.type],function(e){var t=jQuery.extend(!0,{},a,{saveDialog:{title:l.a.translate("save_your_template",[l.a.translate(e)])}});n.registerTemplateType(e,t)})}(),o={text:{callback:function(t){return t=t.toLowerCase(),!!~this.get("title").toLowerCase().indexOf(t)||_.any(this.get("tags"),function(e){return!!~e.toLowerCase().indexOf(t)})}},type:{},subtype:{},favorite:{}},this.component=$e.components.register(new s.default({manager:this})),l.a.addBackgroundClickListener("libraryToggleMore",{element:".elementor-template-library-template-more"})},this.getTemplateTypes=function(e){return e?i[e]:i},this.registerTemplateType=function(e,t){i[e]=t},this.deleteTemplate=function(t,a){var e=n.getDeleteDialog();e.onConfirm=function(){a.onConfirm&&a.onConfirm(),elementorCommon.ajax.addRequest("delete_template",{data:{source:t.get("source"),template_id:t.get("template_id")},success:function(e){r.remove(t,{silent:!0}),a.onSuccess&&a.onSuccess(e)}})},e.show()},this.importTemplate=function(a,r){r=r||{},n.layout.showLoadingView(),n.requestTemplateContent(a.get("source"),a.get("template_id"),{data:{page_settings:r.withPageSettings},success:function(e){var t=jQuery.extend({},n.modalConfig.importOptions);n.layout.hideLoadingView(),n.layout.hideModal(),l.a.channels.data.trigger("template:before:insert",a),l.a.getPreviewView().addChildModel(e.content,t),l.a.channels.data.trigger("template:after:insert",a),r.withPageSettings&&l.a.settings.page.model.setExternalChange(e.page_settings),t.inside&&l.a.getPreviewView().children.findByIndex(t.at).destroyAddSectionView()},error:function(e){n.showErrorDialog(e)},complete:function(){n.layout.hideLoadingView()}})},this.saveTemplate=function(e,t){var a=i[e];_.extend(t,{source:"local",type:e}),a.prepareSavedData&&(t=a.prepareSavedData(t)),t.content=JSON.stringify(t.content);var r={data:t};a.ajaxParams&&_.extend(r,a.ajaxParams),elementorCommon.ajax.addRequest("save_template",r)},this.requestTemplateContent=function(e,t,a){var r={unique_id:t,data:{source:e,edit_mode:!0,display:!0,template_id:t}};return a&&jQuery.extend(!0,r,a),elementorCommon.ajax.addRequest("get_template_data",r)},this.markAsFavorite=function(e,t){var a={data:{source:e.get("source"),template_id:e.get("template_id"),favorite:t}};return elementorCommon.ajax.addRequest("mark_template_as_favorite",a)},this.getDeleteDialog=function(){return e=e||elementorCommon.dialogsManager.createWidget("confirm",{id:"elementor-template-library-delete-dialog",headerMessage:l.a.translate("delete_template"),message:l.a.translate("delete_template_confirm"),strings:{confirm:l.a.translate("delete")}})},this.getErrorDialog=function(){return t=t||elementorCommon.dialogsManager.createWidget("alert",{id:"elementor-template-library-error-dialog",headerMessage:l.a.translate("an_error_occurred")})},this.getTemplatesCollection=function(){return r},this.getConfig=function(e){return e?a[e]?a[e]:{}:a},this.requestLibraryData=function(t){if(!r||t.forceUpdate){t.onBeforeUpdate&&t.onBeforeUpdate();var e={data:{},success:function(e){r=new m.default(e.templates),e.config&&(a=e.config),t.onUpdate&&t.onUpdate()}};t.forceSync&&(e.data.sync=!0),elementorCommon.ajax.addRequest("get_library_data",e)}else t.onUpdate&&t.onUpdate()},this.getFilter=function(e){return l.a.channels.templates.request("filter:"+e)},this.setFilter=function(e,t,a){l.a.channels.templates.reply("filter:"+e,t),a||l.a.channels.templates.trigger("filter:change")},this.getFilterTerms=function(e){return e?o[e]:o},this.setScreen=function(e){l.a.channels.templates.stopReplying(),n.setFilter("source",e.source,!0),n.setFilter("type",e.type,!0),n.setFilter("subtype",e.subtype,!0),n.showTemplates()},this.loadTemplates=function(e){n.requestLibraryData({onBeforeUpdate:n.layout.showLoadingView.bind(n.layout),onUpdate:function(){n.layout.hideLoadingView(),e&&e()}})},this.showTemplates=function(){n.layout.setHeaderDefaultParts(),n.loadTemplates(function(){var e=n.filterTemplates();n.layout.showTemplatesView(new m.default(e))})},this.filterTemplates=function(){var a=n.getFilter("source");return r.filter(function(e){if(a!==e.get("source"))return!1;var t=i[e.get("type")];return!t||!1!==t.showInLibrary})},this.showErrorDialog=function(e){if("object"===u(e)){var t="";_.each(e,function(e){t+="<div>"+e.message+".</div>"}),e=t}else e?e+=".":e="<i>&#60;The error message is empty&#62;</i>";n.getErrorDialog().setMessage(l.a.translate("templates_request_error")+'<div id="elementor-template-library-error-info">'+e+"</div>").show()}}},"./assets/admin/src/template-library/TemplateCollection.js":function(e,t,a){"use strict";a.r(t);var r=a("./assets/admin/src/template-library/TemplateModel.js");t.default=Backbone.Collection.extend({model:r.default})},"./assets/admin/src/template-library/TemplateModel.js":function(e,t,a){"use strict";a.r(t),t.default=Backbone.Model.extend({defaults:{template_id:0,title:"",source:"",type:"",subtype:"",author:"",thumbnail:"",url:"",export_link:"",tags:[]}})},elementor:function(e,t){e.exports=elementor}});
